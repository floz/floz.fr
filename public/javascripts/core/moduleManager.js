// Generated by CoffeeScript 1.5.0-pre
var ModuleManager,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

ModuleManager = (function() {

  ModuleManager.prototype._$body = null;

  ModuleManager.prototype._navManager = null;

  ModuleManager.prototype._currentModule = null;

  function ModuleManager() {
    this._hideCurrentModule = __bind(this._hideCurrentModule, this);
    this._showNewModule = __bind(this._showNewModule, this);
    this._onRubSwitch = __bind(this._onRubSwitch, this);    this._$body = $("body");
    this._navManager = navManager.get();
    this._navManager.signalOnHome.add(this._onRubSwitch);
    this._navManager.signalOnProject.add(this._onRubSwitch);
  }

  ModuleManager.prototype._onRubSwitch = function() {
    if (this._currentModule) {
      this._hideCurrentModule();
      return;
    }
    return this._showNewModule();
  };

  ModuleManager.prototype._showNewModule = function() {
    var _currentModule;
    TweenLite.to(window, .5, {
      scrollTo: {
        y: 0
      },
      easing: Quad.easeOut
    });
    _currentModule = this._navManager.onHome ? new Home() : new Project();
    return _currentModule.show(.2);
  };

  ModuleManager.prototype._hideCurrentModule = function() {
    var delay;
    delay = _currentModule.hide();
    return TweenLite.to(this, delay, {
      onComplete: this._showNewModule
    });
  };

  ModuleManager.prototype.show = function() {
    return this._showNewModule();
  };

  return ModuleManager;

})();
