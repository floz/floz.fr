// Generated by CoffeeScript 1.5.0-pre
var Project,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

Project = (function(_super) {

  __extends(Project, _super);

  Project.prototype._btVisit = null;

  Project.prototype._$scrolling_content = null;

  Project.prototype._$lis = null;

  Project.prototype._$imgs = null;

  Project.prototype._$articleBot = null;

  function Project() {
    var $element, $holder, $img, element, img, p, _i, _j, _len, _len1, _ref, _ref1;
    Project.__super__.constructor.call(this, "#project");
    this._btVisit = new BasicButton($("#bt_visit .bt"));
    $holder = this._$module.find("#project_description .holder");
    $holder.css({
      "overflow": "hidden"
    });
    this._$scrolling_content = this._$module.find("#project_description .scrolling_content");
    _ref = this._$scrolling_content;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      element = _ref[_i];
      $element = $(element);
      $holder = $element.parent();
      $holder.height($element.height());
      $element.css({
        "top": $element.height(),
        "position": "absolute"
      });
    }
    this._$lis = this._$module.find("#diaporama li");
    this._$imgs = this._$module.find("#diaporama li .img");
    _ref1 = this._$imgs;
    for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {
      img = _ref1[_j];
      $img = $(img);
      p = new ProjectImg($(img).find(".cnt_img"), $img);
      p.startLoad();
    }
    this._$articleBot = this._$module.find("article.bot");
    this._$articleBot.css("opacity", 0);
  }

  Project.prototype._showTop = function(delay) {
    if (delay == null) {
      delay = 0;
    }
    delay = Project.__super__._showTop.call(this, delay);
    this._btVisit.show(delay - .3);
    TweenLite.to($("#offline"), .4, {
      opacity: .4,
      delay: delay
    });
    return delay;
  };

  Project.prototype._showBot = function(delay) {
    if (delay == null) {
      delay = 0;
    }
    return TweenLite.to(this._$articleBot, .4, {
      opacity: 1,
      delay: delay + .75
    });
  };

  return Project;

})(Module);
