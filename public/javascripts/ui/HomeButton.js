// Generated by CoffeeScript 1.5.0-pre
var HomeButton,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

HomeButton = (function(_super) {

  __extends(HomeButton, _super);

  HomeButton.prototype._$btHome = null;

  function HomeButton(_$target) {
    this._onKillClick = __bind(this._onKillClick, this);
    this._onClick = __bind(this._onClick, this);
    this._onProject = __bind(this._onProject, this);
    this._onHome = __bind(this._onHome, this);    HomeButton.__super__.constructor.call(this, _$target);
    this._$btHome = $("#bt_home");
    navManager.get().signalOnHome.add(this._onHome);
    navManager.get().signalOnProject.add(this._onProject);
    if (this._$btHome.hasClass("activated")) {
      this._onHome();
    } else {
      this._onProject();
    }
  }

  HomeButton.prototype._onHome = function() {
    this._deactivate();
    this._$btHome.addClass("activated");
    this._$btHome.unbind("click");
    return this._$btHome.click(this._onKillClick);
  };

  HomeButton.prototype._onProject = function() {
    this._activate();
    this._$btHome.removeClass("activated");
    this._$btHome.unbind("click");
    this._$btHome.click(this._onClick);
    return this.out();
  };

  HomeButton.prototype._onClick = function(e) {
    e.preventDefault();
    return navManager.get().set("/", "/ajax");
  };

  HomeButton.prototype._onKillClick = function(e) {
    return e.preventDefault();
  };

  HomeButton.prototype._deactivate = function() {
    return this._$target.unbind("mouseenter mouseleave");
  };

  return HomeButton;

})(BasicButton);
